{% extends "base.html" %}
{% block title %}Tickets{% endblock %}
{% block content %}
    <h1 align="center">Tickets</h1>
    <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th class="col-1" scope="col">Reference</th>
            <th scope="col">Short description</th>
            <th class="col-2" scope="col">Created by</th>
          </tr>
        </thead>
        <tbody>
        {% for ticket in tickets %}
          <tr onclick="window.location='/tickets/{{ticket.id}}';">
            <th scope="row">{{ticket.reference}}</th>
            <td>{{ticket.short_description}}</td>
            <td>{{ticket.created_by}}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>

    <!-- page links -->
    <center>
        <nav aria-label="...">
            <ul class="pagination pagination-sm" style="position: absolute; left: 50%; transform: translatex(-50%);">
            {% for i in range(pages+1) %}
                {% if i > 0 %}
                {% if (i==1 and page_number is not defined) or (i==page_number) %}
                    <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1"><b>{{i}}</b></a>
                    </li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="/tickets?page={{i}}">{{i}}</a></li>
                {% endif %}
                {% endif %}
            {% endfor %}
            </ul>
        </nav>
        </center>
        <p>&nbsp;</p>
{% endblock %}